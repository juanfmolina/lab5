/*
definicion de la estructura cuenta y la implementacion de sus m√©todos
*/



#include <stdlib.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>
#include<math.h>

int numeroDeHilos;
int tiempoEjecucion;
int numeroCuentas;
int valorInicial;
 
struct Cuenta{

	int idCuenta;
	int saldo;

};

struct transferencia{

	int	idCuenta1;
	int idCuenta2;
	int montoTransferencia;

}

void *transferir(void *);

struct Cuenta * pCuentas;

int main(int argc, char *argv[]){

numeroDeHilos = atoi(argv[1]);
tiempoEjecucion = atoi(argv[2]);
numeroCuentas = atoi(argv[3]);
valorInicial = atoi(argv[4]);
pthread_t hilos[numeroDeHilos];


struct Cuenta aCuentas[atoi(argv[3]);
	int i=0;
	for(i=0;i<numeroCuentas;i++){
		aCuentas[i].idCuenta= i;
		aCuentas[i].saldo=valorInicial;
	}
pCuentas=&aCuentas[0];

for(i=0; i<numeroDeHilos, i++){
	if(pthread_create(hilos[i], NULL, transferir, NULL)=!0){
		printf("Error al crear el Hilo");
	}
}


for(i=0; i<numeroDeHilos, i++){
	pthread_join(hilos[i], NULL);
}




}

void * transferir(void * parametros){
	srand(time(NULL));
	int ordenante =rand()%numeroDeCuentas;
	int beneficiario=rand()%numeroDeCuentas;
while(b==0){

	if(aCuentas[i].idCuenta == identCuenta){

	aCuentas[i].saldo = aCuentas[i].saldo + monto;
	break;
}
	i++;
}

}

}
